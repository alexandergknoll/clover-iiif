<!doctype html>
<html class="default no-js">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>npm-dts</title>
	<meta name="description" content="Documentation for npm-dts">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="assets/css/main.css">
</head>
<body>
<header>
	<div class="tsd-page-toolbar">
		<div class="container">
			<div class="table-wrap">
				<div class="table-cell" id="tsd-search" data-index="assets/js/search.json" data-base=".">
					<div class="field">
						<label for="tsd-search-field" class="tsd-widget search no-caption">Search</label>
						<input id="tsd-search-field" type="text" />
					</div>
					<ul class="results">
						<li class="state loading">Preparing search index...</li>
						<li class="state failure">The search index is not available</li>
					</ul>
					<a href="index.html" class="title">npm-dts</a>
				</div>
				<div class="table-cell" id="tsd-widgets">
					<div id="tsd-filter">
						<a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a>
						<div class="tsd-filter-group">
							<div class="tsd-select" id="tsd-filter-visibility">
								<span class="tsd-select-label">All</span>
								<ul class="tsd-select-list">
									<li data-value="public">Public</li>
									<li data-value="protected">Public/Protected</li>
									<li data-value="private" class="selected">All</li>
								</ul>
							</div>
							<input type="checkbox" id="tsd-filter-inherited" checked />
							<label class="tsd-widget" for="tsd-filter-inherited">Inherited</label>
							<input type="checkbox" id="tsd-filter-externals" checked />
							<label class="tsd-widget" for="tsd-filter-externals">Externals</label>
							<input type="checkbox" id="tsd-filter-only-exported" />
							<label class="tsd-widget" for="tsd-filter-only-exported">Only exported</label>
						</div>
					</div>
					<a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a>
				</div>
			</div>
		</div>
	</div>
	<div class="tsd-page-title">
		<div class="container">
			<ul class="tsd-breadcrumb">
				<li>
					<a href="globals.html">Globals</a>
				</li>
			</ul>
			<h1>npm-dts</h1>
		</div>
	</div>
</header>
<div class="container container-main">
	<div class="row">
		<div class="col-8 col-content">
			<div class="tsd-panel tsd-typography">
				<a href="#npm-dts" id="npm-dts" style="color: inherit; text-decoration: none;">
					<h1>npm-dts</h1>
				</a>
				<p><em>by Vytenis Urbonaviƒçius</em></p>
				<p>This utility generates single <em>index.d.ts</em> file for whole NPM package.</p>
				<p>It allows creating bundled <em>NPM</em> library packages without <em>TypeScript</em> sources and yet still keeping code suggestions wherever these libraries are imported.</p>
				<p><em>TypeScript</em> picks up <em>index.d.ts</em> automatically.</p>
				<hr>
				<a href="#installation" id="installation" style="color: inherit; text-decoration: none;">
					<h2>Installation</h2>
				</a>
				<p>Local:</p>
				<pre><code><span class="hljs-built_in">npm</span> install --save-dev <span class="hljs-built_in">npm</span>-dts
</code></pre>
				<p>Global:</p>
				<pre><code><span class="hljs-built_in">npm</span> install -g <span class="hljs-built_in">npm</span>-dts
</code></pre>
				<hr>
				<a href="#cli-usage" id="cli-usage" style="color: inherit; text-decoration: none;">
					<h2>CLI Usage</h2>
				</a>
				<p>Please make sure that target project has <em>&quot;typescript&quot;</em> installed in _node_modules_.</p>
				<p>To see full <em>CLI</em> help - run without arguments:</p>
				<pre><code><span class="hljs-built_in">npm</span>-dts
</code></pre>
				<p>Typical usage (using global install):</p>
				<pre><code>cd /your/project
npm-dts <span class="hljs-keyword">generate</span>
</code></pre>
				<br />
				<a href="#supported-options" id="supported-options" style="color: inherit; text-decoration: none;">
					<h3>Supported options</h3>
				</a>
				<pre><code>npm-dts [options] <span class="hljs-keyword">generate</span>
</code></pre>
				<table>
					<thead>
						<tr>
							<th>Option&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
							<th>Alias&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
							<th>Description</th>
						</tr>
					</thead>
					<tbody><tr>
							<td><code>--entry [file]</code></td>
							<td><code>-e [file]</code></td>
							<td>Allows changing main <em>src</em> file from <em>index.ts</em> to something else. It can also be declared as a path, relative to root.</td>
						</tr>
						<tr>
							<td><code>--force</code></td>
							<td><code>-f</code></td>
							<td>Ignores non-critical errors and attempts to at least partially generate typings (disabled by default).</td>
						</tr>
						<tr>
							<td><code>--help</code></td>
							<td><code>-h</code></td>
							<td>Output usage information.</td>
						</tr>
						<tr>
							<td><code>--logLevel [level]</code></td>
							<td><code>-L [level]</code></td>
							<td>Log level (error, warn, info, verbose, debug) (defaults to &quot;info&quot;).</td>
						</tr>
						<tr>
							<td><code>--output [file]</code></td>
							<td><code>-o [file]</code></td>
							<td>Overrides recommended output target to a custom one (defaults to &quot;index.d.ts&quot;).</td>
						</tr>
						<tr>
							<td><code>--root [path]</code></td>
							<td><code>-r [path]</code></td>
							<td>NPM package directory containing package.json (defaults to current working directory).</td>
						</tr>
						<tr>
							<td><code>--tmp [path]</code></td>
							<td><code>-t [path]</code></td>
							<td>Directory for storing temporary information (defaults to OS-specific temporary directory). Note that tool completely deletes this folder once finished.</td>
						</tr>
						<tr>
							<td><code>--tsc [options]</code></td>
							<td><code>-c [options]</code></td>
							<td>Passed through additional TSC options (defaults to &quot;&quot;). Note that they are not validated or checked for suitability. When passing through CLI it is recommended to surround arguments in quotes.</td>
						</tr>
						<tr>
							<td><code>--version</code></td>
							<td><code>-v</code></td>
							<td>Output the version number.</td>
						</tr>
				</tbody></table>
				<br>
				<a href="#integration-using-webpack" id="integration-using-webpack" style="color: inherit; text-decoration: none;">
					<h2>Integration using <em>WebPack</em></h2>
				</a>
				<p>You would want to use <a href="https://www.npmjs.com/package/npm-dts-webpack-plugin"><strong>&quot;npm-dts-webpack-plugin&quot;</strong></a> package instead.</p>
				<br />
				<a href="#integration-into-npm-scripts" id="integration-into-npm-scripts" style="color: inherit; text-decoration: none;">
					<h2>Integration into <em>NPM</em> scripts</h2>
				</a>
				<p>Example of how you could run generation of <em>index.d.ts</em> automatically before every publish.</p>
				<pre><code>{
  <span class="hljs-comment">// ......</span>
  <span class="hljs-attr">&quot;scripts&quot;</span>: {
    <span class="hljs-attr">&quot;prepublishOnly&quot;</span>: <span class="hljs-string">&quot;npm run dts &amp;&amp; ......&quot;</span>,
    <span class="hljs-attr">&quot;dts&quot;</span>: <span class="hljs-string">&quot;./node_modules/.bin/npm-dts generate&quot;</span>
  }
  <span class="hljs-comment">// ......</span>
}
</code></pre>
				<p>Another possible option would be to execute &quot;npm run dts&quot; as part of bundling task.</p>
				<br />
				<a href="#integration-into-custom-solution" id="integration-into-custom-solution" style="color: inherit; text-decoration: none;">
					<h2>Integration into custom solution</h2>
				</a>
				<p>This approach can be used for integration with tools such as <em>WebPack</em>.</p>
				<p>Simple usage with all default values:</p>
				<pre><code class="language-typescript"><span class="hljs-keyword">import</span> {Generator} <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;npm-dts&#x27;</span>
<span class="hljs-keyword">new</span> Generator({}).generate()
</code></pre>
				<p>Advanced usage example with some arguments overridden:</p>
				<pre><code class="language-typescript"><span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> path <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;path&#x27;</span>
<span class="hljs-keyword">import</span> {Generator} <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;npm-dts&#x27;</span>

<span class="hljs-keyword">new</span> Generator({
  <span class="hljs-attr">entry</span>: <span class="hljs-string">&#x27;main.ts&#x27;</span>,
  <span class="hljs-attr">root</span>: path.resolve(process.cwd(), <span class="hljs-string">&#x27;project&#x27;</span>),
  <span class="hljs-attr">tmp</span>: path.resolve(process.cwd(), <span class="hljs-string">&#x27;cache/tmp&#x27;</span>),
  <span class="hljs-attr">tsc</span>: <span class="hljs-string">&#x27;--extendedDiagnostics&#x27;</span>,
}).generate()
</code></pre>
				<p>Above examples were in <em>TypeScript</em>. Same in plain <em>JavaScript</em> would look like this:</p>
				<pre><code class="language-javascript"><span class="hljs-keyword">const</span> path = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;path&#x27;</span>)

<span class="hljs-keyword">new</span> (<span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;npm-dts&#x27;</span>).Generator)({
  <span class="hljs-attr">entry</span>: <span class="hljs-string">&#x27;main.ts&#x27;</span>,
  <span class="hljs-attr">root</span>: path.resolve(process.cwd(), <span class="hljs-string">&#x27;project&#x27;</span>),
  <span class="hljs-attr">tmp</span>: path.resolve(process.cwd(), <span class="hljs-string">&#x27;cache/tmp&#x27;</span>),
  <span class="hljs-attr">tsc</span>: <span class="hljs-string">&#x27;--extendedDiagnostics&#x27;</span>,
}).generate()
</code></pre>
				<a href="#additional-arguments" id="additional-arguments" style="color: inherit; text-decoration: none;">
					<h3>Additional arguments</h3>
				</a>
				<p>Constructor of generator also supports two more boolean flags as optional arguments:</p>
				<ul>
					<li>Enable log</li>
					<li>Throw exception on error</li>
				</ul>
				<p>Initializing without any options will cause <em>npm-cli</em> to read CLI arguments all by itself.</p>
			</div>
		</div>
		<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
			<nav class="tsd-navigation primary">
				<ul>
					<li class="globals  ">
						<a href="globals.html"><em>Globals</em></a>
					</li>
				</ul>
			</nav>
			<nav class="tsd-navigation secondary menu-sticky">
				<ul class="before-current">
					<li class=" tsd-kind-enum">
						<a href="enums/ecliargument.html" class="tsd-kind-icon">ECli<wbr>Argument</a>
					</li>
					<li class=" tsd-kind-enum">
						<a href="enums/eloglevel.html" class="tsd-kind-icon">ELog<wbr>Level</a>
					</li>
					<li class=" tsd-kind-enum">
						<a href="enums/ibasepathtype.html" class="tsd-kind-icon">IBase<wbr>Path<wbr>Type</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/cli.html" class="tsd-kind-icon">Cli</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/generator.html" class="tsd-kind-icon">Generator</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/convertpathtomoduleoptions.html" class="tsd-kind-icon">Convert<wbr>Path<wbr>ToModule<wbr>Options</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/ideclarationmap.html" class="tsd-kind-icon">IDeclaration<wbr>Map</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/inpmdtsargs.html" class="tsd-kind-icon">INpm<wbr>Dts<wbr>Args</a>
					</li>
					<li class=" tsd-kind-variable">
						<a href="globals.html#mkdir_retries" class="tsd-kind-icon">MKDIR_<wbr>RETRIES</a>
					</li>
					<li class=" tsd-kind-variable">
						<a href="globals.html#logenabled" class="tsd-kind-icon">log<wbr>Enabled</a>
					</li>
					<li class=" tsd-kind-function">
						<a href="globals.html#debug" class="tsd-kind-icon">debug</a>
					</li>
					<li class=" tsd-kind-function">
						<a href="globals.html#error" class="tsd-kind-icon">error</a>
					</li>
					<li class=" tsd-kind-function">
						<a href="globals.html#info" class="tsd-kind-icon">info</a>
					</li>
					<li class=" tsd-kind-function">
						<a href="globals.html#init" class="tsd-kind-icon">init</a>
					</li>
					<li class=" tsd-kind-function">
						<a href="globals.html#verbose" class="tsd-kind-icon">verbose</a>
					</li>
					<li class=" tsd-kind-function">
						<a href="globals.html#warn" class="tsd-kind-icon">warn</a>
					</li>
				</ul>
			</nav>
		</div>
	</div>
</div>
<footer class="with-border-bottom">
	<div class="container">
		<h2>Legend</h2>
		<div class="tsd-legend-group">
			<ul class="tsd-legend">
				<li class="tsd-kind-constructor tsd-parent-kind-class"><span class="tsd-kind-icon">Constructor</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class"><span class="tsd-kind-icon">Method</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected method</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private method</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-interface"><span class="tsd-kind-icon">Property</span></li>
			</ul>
		</div>
	</div>
</footer>
<div class="container tsd-generator">
	<p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p>
</div>
<div class="overlay"></div>
<script src="assets/js/main.js"></script>
</body>
</html>